<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KnowHaven</title>
    <link rel="stylesheet" href="styles_copy2.css">
</head>
<body>
    
    
    <div class="navbar">
        <div class="logo">
            <img src="https://i.postimg.cc/qv2tkNrG/logobook-3.png" alt="KnowHaven Logo">
        </div>
        <div class="nav-link">
            <a onclick="showSection('home')">Home</a>
            <a onclick="showSection('subjects')">Subjects</a>
            <a onclick="showSection('about')">About Us</a>
            <a onclick="showSection('Contact')">Contact</a>
            <a onclick="showSection('Courses')">Courses</a>
        </div>
        <div class="buttons">
            <button class="join">Join</button>
            <button class="login" onclick="window.location.href='https://userauth5.netlify.app/';">Login</button>
        </div>
    </div>

    <div id="home" class="section active">
    <! Page 1 (Landing Page) >
    <div class="container">
        <div class="left">
            <h1>Unlock Your Potential with Engaging Learning</h1>
            <p>Welcome to KnowHaven, where Class 10 students can access high-quality video lessons tailored to their learning needs.  
                
            </p>
            <div class="button-container">
            <button class="login" onclick="showSection('Courses')">Explore</button>
            <button class="join" onclick="window.location.href='https://userauth5.netlify.app/';">Sign Up</button>
            </div>
        </div>
        <div class="right">
            <div class="column">
                <div class="image-container">
                    <div class="image-box">
                      <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                </div>
                <div class="image-container">
                    <div class="image-box">
                      <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="image-container" style="animation-delay: -8s;">
                    <div class="image-box">
                      <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                </div>
                <div class="image-container" style="animation-delay: -5s;">
                    <div class="image-box">
                      <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Description">
                    </div>
                    <div class="image-box">
                       <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <! Page 1 (Landing Page) >
    
    <! ---------------------------------------------------------------------------------- >
    
    <! Page 2 (Features Page) >
    <section class="features">
        <h2>Unlock Your Potential with Our Features</h2>
        <p>At KnowHaven, we prioritize your learning experience. Our platform offers easy navigation, ensuring you can focus on mastering subjects without distractions.</p>
        <div class="feature-container">
            <div class="feature-box">
                <div class="feature-image">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <h3>Navigate with Ease and Confidence</h3>
                <p>Our intuitive interface simplifies finding the right lessons.</p>
            </div>
            <div class="feature-box">
                <div class="feature-image">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <h3>Access High-Quality Educational Content Anytime</h3>
                <p>Engage with expertly crafted video lessons tailored for you.</p>
            </div>
            <div class="feature-box">
                <div class="feature-image">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <h3>Track Your Progress and Stay Motivated</h3>
                <p>Monitor your learning journey and revisit topics as needed.</p>
            </div>
        </div>
        <button class="explore-btn" onclick="showSection('Courses')">Explore</button>
    </section>
    <! Page 2 (Features Page) >

    <! ---------------------------------------------------------------------------------- >

    <! Page 3 (Info Page) >
    <div class="Info">
        <div class="content">
            <h1>Unlock Your Potential with Engaging Video Lessons for Class 10 Students</h1>
            <p>KnowHaven transforms learning into an enjoyable experience with structured video lessons. Our platform empowers Class 10 students to grasp complex concepts effortlessly.</p>
            <div class="segments">
                <div class="segment1">
                    <h2>Engagement</h2>
                    <p>Learn at your own pace with interactive content.</p>
                </div>
                <div class="segment1">
                    <h2>Accessibility</h2>
                    <p>Quality education available anytime, anywhere for students.</p>
                </div>
            </div>
        </div>
        <div class="image-holder">
          <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Description">
        </div>
    </div>
    <! Page 3 (Info Page) >

    <! ---------------------------------------------------------------------------------- >
    
    <! Page 4 (Blog Page) >
    <div class="Blog">
        <h1>Unlock Your Learning Potential</h1>
        <p>Explore effective strategies for academic success.</p>
        <div class="blog-section">
            <div class="blog-card">
                <div class="image-placeholder">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <span class="tag">Education</span>
                <span class="read-time">5 min read</span>
                <h2>Mastering Time Management for Students</h2>
                <p>Learn how to manage your study time effectively.</p>
                <!-- Added Expandable Section -->
                <div class="more-content">
                    <div class="inner-content">
                        <p>This involves understanding your peak productivity times, breaking down large assignments into smaller steps, using tools like planners or apps, and importantly, scheduling regular breaks to avoid burnout. Effective time management reduces stress and improves academic performance significantly.</p> <!-- Long Content -->
                    </div>
                </div>
                <button class="read-more">Read more</button> <!-- Keep existing class -->
            </div>
            
            <div class="blog-card">
                <div class="image-placeholder">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <span class="tag">Study</span>
                <span class="read-time">5 min read</span>
                <h2>The Power of Active Learning</h2>
                <p>Discover techniques to enhance your learning experience.</p>
                <!-- Added Expandable Section -->
                <div class="more-content">
                    <div class="inner-content">
                        <p>Active learning strategies include summarizing concepts in your own words, teaching the material to someone else, using flashcards for recall practice, and engaging in group discussions. These methods force your brain to process information more deeply, leading to better retention and understanding.</p> <!-- Long Content -->
                    </div>
                </div>
                <button class="read-more">Read more</button> <!-- Keep existing class -->
            </div>

            <div class="blog-card">
                <div class="image-placeholder">
                  <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" width="100%" height="100%" alt="Resized Image">
                </div>
                <span class="tag">Tips</span>
                <span class="read-time">5 min read</span>
                <h2>Creating a Study Schedule That Works</h2>
                <p>Learn to build a personalized study plan.</p>
                <!-- Added Expandable Section -->
                <div class="more-content">
                    <div class="inner-content">
                        <p>A good study schedule allocates specific time slots for each subject, includes revision time, and accounts for extracurricular activities and leisure. Be realistic about how much you can cover in one session. Regularly review and adjust your schedule based on your progress and upcoming deadlines. Consistency is crucial.</p> <!-- Long Content -->
                    </div>
                </div>
                <button class="read-more">Read more</button> <!-- Keep existing class -->
            </div>
        </div>
        <button class="view-all">View all</button>
    </div>
    <! Page 4 (Blog Page) >

    <! ---------------------------------------------------------------------------------- >

    <! Page 5 (Review Page) >
    <div class="slider-container">
        <h1>What Our Students Say</h1>
        <div class="slides">
            <div class="slide">
                <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Testimonial Image">
                <div class="testimonial">
                    <div class="stars">★★★★★</div>
                    <p>"KnowHaven transformed my learning experience. The video lessons made complex topics easy to understand!"</p>
                    <strong>Emily Johnson</strong><br>
                    <span>Student, Class 10</span>
                </div>
            </div>
            <div class="slide">
                <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Testimonial Image">
                <div class="testimonial">
                    <div class="stars">★★★★★</div>
                    <p>"An amazing platform with well-structured lessons that made studying fun!"</p>
                    <strong>James Smith</strong><br>
                    <span>Student, Class 10</span>
                </div>
            </div>
            <div class="slide">
                <img src="https://i.postimg.cc/1tCyKQGT/pic-13.jpg" alt="Testimonial Image">
                <div class="testimonial">
                    <div class="stars">★★★★★</div>
                    <p>"An amazing platform with well-structured lessons that made studying fun!"</p>
                    <strong>James Smith</strong><br>
                    <span>Student, Class 10</span>
                </div>
            </div>
            <div class="slide">
                <img src="https://i.postimg.cc/tC04vXQQ/pic-14.jpg" alt="Testimonial Image">
                <div class="testimonial">
                    <div class="stars">★★★★★</div>
                    <p>"An amazing platform with well-structured lessons that made studying fun!"</p>
                    <strong>James Smith</strong><br>
                    <span>Student, Class 10</span>
                </div>
            </div>
        
        
        </div>
        
        <div class="nav-buttons">
            <button onclick="prevSlide()">&#10094;</button>
            <button onclick="nextSlide()">&#10095;</button>
        </div>
    </div>

    <script>
        let index = 0;

        function showSlide(n) {
            const slides = document.querySelector('.slides');
            const totalSlides = document.querySelectorAll('.slide').length;
            if (n >= totalSlides) index = 0;
            if (n < 0) index = totalSlides - 1;
            slides.style.transform = `translateX(${-index * 100}%)`;
        }

        function nextSlide() {
            index++;
            showSlide(index);
        }

        function prevSlide() {
            index--;
            showSlide(index);
        }
    </script>

    <! Page 5 (Review Page) >
    
    <! ---------------------------------------------------------------------------------- >

    <! Page 6 (Footer Page) >
    <div class="Outro">
        <h1>Start Your Learning Journey Today</h1>
        <p>Join KnowHaven and unlock a world of engaging video lessons tailored for Class 10 students.</p>
        <div class="btns">
            <button class="sign-up" onclick="window.location.href='https://userauth5.netlify.app/';">Sign Up</button>
            <button class="learn-more">Learn More</button>
        </div>
    </div>
    <! Page 6 (Footer Page) >
    
    <! ---------------------------------------------------------------------------------- >
    </div> <!-- ending div id = "home" -->

    
    
    <div id="subjects" class="section">
            <!-- Start of content moved from mathphydisk.html -->
            <div class="subject-wrapper"> <!-- Renamed from 'wrapper' to avoid potential global conflicts -->
                <div class="subject-heading-container"> <!-- Renamed -->
                    <h1>Mathematics</h1>
                </div>
        
                <div class="subject-display-container"> <!-- Renamed from 'container' -->
                    <div class="subject-book-image"> <!-- Renamed -->
                        <!-- Use unique IDs if needed elsewhere, otherwise classes are fine -->
                        <img src="https://i.postimg.cc/g2ZZzRkx/Chapters-visual-selection-3.png" alt="Mathematics Chapters">
                    </div>
                    <div class="subject-topics-container"></div> <!-- Renamed -->
                </div>
        
                <div class="subject-heading-container"> <!-- Renamed -->
                    <h1>Physics</h1>
                </div>
                <div class="subject-display-container"> <!-- Renamed -->
                    <div class="subject-book-image"> <!-- Renamed -->
                         <!-- Note: Removed inline style for width/height, control via CSS -->
                        <img src="https://i.postimg.cc/8kvVtL5T/Chapters-visual-selection-4.png" alt="Physics Chapters">
                    </div>
                    <div class="subject-topics-container"></div> <!-- Renamed -->
                </div>
            </div>
            <!-- End of content moved from mathphydisk.html -->
    </div> <!-- ending div id = "subjects" -->
    

    <div id="about" class="section" style="align-content: center;">
        <h1>About KnowHaven</h1>
        <p>Welcome to KnowHaven – where knowledge finds its true home.</p>
        <p>At KnowHaven, we believe that learning should be limitless, engaging, 
            and accessible to all. Our platform is built for curious minds, 
            passionate learners, and ambitious individuals who aspire to shape 
            the future with knowledge. Whether you're exploring new subjects, 
            refining your skills, or preparing for academic excellence, 
            KnowHaven is your sanctuary for growth.   </p>
        <h2>Our Mission</h2>
        <p>To empower learners with high-quality educational resources, 
            interactive learning experiences, and a supportive community 
            that fosters creativity, critical thinking, and lifelong 
            curiosity.</p>

        <h2>Why Choose KnowHaven?</h2>
        <ul>✔ Expert-Curated Content  – Courses, articles, and study materials designed by professionals.</ul>
        <ul>✔ Interactive Learning    – Engaging videos, quizzes, and interactive activities for a dynamic learning experience.</ul>
        <ul>✔ Personalized Experience – Learn at your own pace with tailored recommendations.</ul>
        <ul>✔ Community               – Connect with like-minded individuals, share knowledge, and grow together.</ul>
        <ul>✔ Accessible Anywhere     – Access from anywhere, anytime with an internet connection.</ul>

        <p>At KnowHaven, education is more than just information—it’s a journey of discovery, innovation, and transformation.</p>
        <h1> Join us, and let's build a smarter future together.

        </h1>

    </div> <!-- ending div id = "about" -->

    <div id="Contact" class="section" style=" place-items: center;" >
        <!-- ****** START: Inserted FAQ Section HTML ****** -->
        <section class="faq-section">
            <h1>Frequently Asked Questions</h1>

            <div class="faq-item">
              <button class="faq-question">What is KnowHaven?<span class="arrow">▼</span></button>
              <div class="faq-answer">
                <p>KnowHaven is an online learning platform providing high-quality video lessons specifically tailored for Class 10 students to help them grasp complex concepts easily.</p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">What subjects are covered?<span class="arrow">▼</span></button>
              <div class="faq-answer">
                <p>Currently, we focus primarily on Mathematics and Physics for Class 10, with plans to expand our subject offerings in the future.</p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">How do I access the courses?<span class="arrow">▼</span></button>
              <div class="faq-answer">
                <p>You can access courses by signing up or logging into your account. Navigate to the 'Subjects' or 'Courses' section to find the video lessons.</p>
              </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">Is there a cost associated with KnowHaven?<span class="arrow">▼</span></button>
                <div class="faq-answer">
                    <p>Please check our 'Courses' or 'Join' sections for the latest information on membership plans and any associated costs or free trial offers.</p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">Can I track my progress?<span class="arrow">▼</span></button>
                <div class="faq-answer">
                    <p>Yes, our platform includes features to help you monitor your learning journey and revisit topics as needed. This typically requires being logged in.</p>
                </div>
            </div>
        </section>
        <!-- ****** END: Inserted FAQ Section HTML ****** -->
        
        
        
        <h2 style="text-align: center; margin-bottom: 20px; color: #002147;">Still Have Questions?</h2>
        
        <div class="contact-container"> <!-- Added this container from index.html -->
            <form id="contact-form">
              <h2>Contact Us</h2>
              <!-- NOTE: Added id attributes for potential future use, though current JS uses FormData -->
              <input type="text" id="name" name="name" placeholder="Your Name" required />
              <input type="email" id="email" name="email" placeholder="Your Email" required />
              <textarea id="message" name="message" placeholder="Your Message" required></textarea>
              <button type="submit" id="submitBtn">
                <span id="btnText">Send Message</span>
                <div id="loader" class="loader hidden"></div> <!-- Loader div included -->
              </button>
              <!-- Use the existing p tag with id="statusMessage" for response -->
              <p id="statusMessage" class="status"></p>
            </form>
        </div>
    </div>

    <div id="Courses" class="section" style="align-content: center;">
        <h1>What do you learn?</h1>
        <p>Welcome to KnowHaven – where knowledge finds its true home.</p>
        <p>At KnowHaven, we believe that learning should be limitless, engaging, 
            and accessible to all. Our platform is built for curious minds, 
            passionate learners, and ambitious individuals who aspire to shape 
            the future with knowledge. Whether you're exploring new subjects, 
            refining your skills, or preparing for academic excellence, 
            KnowHaven is your sanctuary for growth.   </p>
        <h2>Our Mission</h2>
        <p>To empower learners with high-quality educational resources, 
            interactive learning experiences, and a supportive community 
            that fosters creativity, critical thinking, and lifelong 
            curiosity.</p>

        <h2>Why Choose KnowHaven?</h2>
        <ul>✔ Expert-Curated Content  – Courses, articles, and study materials designed by professionals.</ul>
        <ul>✔ Interactive Learning    – Engaging videos, quizzes, and interactive activities for a dynamic learning experience.</ul>
        <ul>✔ Personalized Experience – Learn at your own pace with tailored recommendations.</ul>
        <ul>✔ Community               – Connect with like-minded individuals, share knowledge, and grow together.</ul>
        <ul>✔ Accessible Anywhere     – Access from anywhere, anytime with an internet connection.</ul>

        <p>At KnowHaven, education is more than just information—it’s a journey of discovery, innovation, and transformation.</p>
        <h1> Join us, and let's build a smarter future together.

        </h1>

    </div> <!-- ending div id = "about" -->
    


<script>
    //script for navigation
    function showSection(sectionId) {
        // Hide all sections
        document.querySelectorAll('.section').forEach(section => {
            section.classList.remove('active');
        });

        // Show the selected section
        const sectionToShow = document.getElementById(sectionId);
        if (sectionToShow) {
             sectionToShow.classList.add('active');
             window.scrollTo(0, 0); // Scroll to top

             // *** ADD THIS: If showing subjects, ensure topics are positioned ***
             if (sectionId === 'subjects') {
                 initializeSubjectLayout(); // Call the setup function
             }
        } else {
            console.error("Section with ID '" + sectionId + "' not found.");
        }
    }

    function loadVideoSection() {
            fetch('vidguide.html') // Load the external videos page
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.text(); // Get content as text
                })
                .then(data => {
                    const videoSection = document.getElementById('videos');
                     if (videoSection) {
                        videoSection.innerHTML = data; // Insert into videos section
                     }
                    showSection('videos'); // Show the videos section
                })
                .catch(error => {
                    console.error('Error loading videos:', error);
                    const videoSection = document.getElementById('videos');
                    if (videoSection) {
                        videoSection.innerHTML = '<p>Error loading video content. Please try again later.</p>'; // Show error message
                    }
                    showSection('videos'); // Still show the section, but with the error message
                 });
    }

    // --- New script moved from mathphydisk.html ---

    // Wrap the logic in a function to call when needed
    function initializeSubjectLayout() {
        // Select containers *within* the #subjects section
        const containers = document.querySelectorAll("#subjects .subject-display-container");

        containers.forEach((container, index) => {
            // Select elements *within this specific container*
            const bookImage = container.querySelector(".subject-book-image img");
            const topicsContainer = container.querySelector(".subject-topics-container");

            if (!bookImage || !topicsContainer) {
                console.error("Required elements not found in subject container:", index, container);
                return; // Skip this container if elements are missing
            }

            // Call positionTopics immediately for this container
            positionTopics(container, bookImage, topicsContainer, index);

            // Add resize listener - maybe throttle this later if performance is an issue
            // Consider adding a flag to avoid adding multiple listeners if showSection is called often
            let resizeTimer;
            window.addEventListener("resize", () => {
                 clearTimeout(resizeTimer);
                 resizeTimer = setTimeout(() => {
                     positionTopics(container, bookImage, topicsContainer, index);
                 }, 150); // Debounce resize event slightly
             });
        });
    }


    function positionTopics(container, bookImage, topicsContainer, index) {
        topicsContainer.innerHTML = ""; // Clear old topics before repositioning

        const topicsData = [
            // Dataset 0: Math
            [
                { title: "Algebra", description: "Solving equations and understanding variables" },
                { title: "Geometry", description: "Shapes, sizes, positions, and space properties" },
                { title: "Mensuration", description: "Measurement of lengths, areas, and volumes" },
                { title: "Trigonometry", description: "Relationships between angles and side lengths" },
                { title: "Statistics", description: "Data collection, analysis, and interpretation" },
                { title: "Commercial Maths", description: "Practical applications like GST and banking" } // Note space
            ],
            // Dataset 1: Physics
            [
                { title: "Light", description: "Behaviour and properties, reflection, refraction" },
                { title: "Sound", description: "Nature and propagation of sound waves" },
                { title: "Force & Motion", description: "Laws of motion, work, energy, power" }, // Note & and space
                { title: "Heat", description: "Concepts of heat and temperature transfer" },
                { title: "Modern Physics", description: "Radioactivity and nuclear energy basics" }, // Note space
                { title: "Electricity", description: "Current, circuits, magnetism, EM induction" }
            ]
        ];

         if (!topicsData[index]) {
             console.error("No topics data found for index:", index);
             return;
         }

        const topicColors = ["#BFFF00", "#00BFFF", "#9370DB", "#ED9121", "#E63946", "#00A86B"];
        const numTopics = topicsData[index].length;
        const isMobile = window.innerWidth <= 768;

        // --- (Mobile/Desktop layout setup remains the same) ---
         if (isMobile) {
            // Mobile Layout (Grid handled by CSS now)
             topicsContainer.style.display = "";
             topicsContainer.style.position = "relative";
             topicsContainer.style.gridTemplateColumns = "";
             topicsContainer.style.gridGap = "";
             topicsContainer.style.top = "";
             topicsContainer.style.left = "";
             topicsContainer.style.width = "";
             topicsContainer.style.height = "";

        } else {
            // Desktop Circular Layout
            topicsContainer.style.display = "block";
            topicsContainer.style.position = "absolute";
            topicsContainer.style.top = "0";
            topicsContainer.style.left = "0";
            topicsContainer.style.width = "100%";
            topicsContainer.style.height = "100%";
            topicsContainer.style.gridTemplateColumns = "";
            topicsContainer.style.gridGap = "";
        }
        // --- (End of layout setup) ---


        for (let i = 0; i < numTopics; i++) {
            const topicData = topicsData[index][i]; // Get current topic data
            const topic = document.createElement("div");
            topic.classList.add("topic");

            const topicTitle = document.createElement("div");
            topicTitle.classList.add("topic-title");
            topicTitle.style.color = topicColors[i % topicColors.length];
            topicTitle.textContent = topicData.title; // Use topicData

            const topicDesc = document.createElement("div");
            topicDesc.classList.add("topic-description");
            topicDesc.textContent = topicData.description; // Use topicData

            topic.appendChild(topicTitle);
            topic.appendChild(topicDesc);

            // --- START: Add Click Listener ---
            topic.addEventListener('click', function() {
                // Generate filename from title (lowercase, replace spaces and '&' with '-')
                let filename = topicData.title.toLowerCase();
                filename = filename.replace(/ & /g, '-'); // Replace " & " with "-"
                filename = filename.replace(/ /g, '-');   // Replace remaining spaces with "-"
                filename = 'VIDS/' + filename + '.html';             // Add .html extension

                console.log(`Navigating to: ${filename}`); // For debugging

                // Navigate to the generated URL
                window.location.href = filename;
            });
            // --- END: Add Click Listener ---


            // --- (Hover Glow Effect remains the same) ---
            let glowInterval;
            topic.addEventListener("mouseenter", function () {
                 // ... (rest of mouseenter logic) ...
                 let glowIntensity = 20;
                 let increasing = true;
                 const color = topicColors[i % topicColors.length];
                 clearInterval(glowInterval);
                 bookImage.style.filter = `drop-shadow(0px 0px ${glowIntensity}px ${color})`;
                 glowInterval = setInterval(() => {
                     if (increasing) {
                         glowIntensity += 5;
                         if (glowIntensity >= 80) increasing = false;
                     } else {
                         glowIntensity -= 5;
                         if (glowIntensity <= 20) increasing = true;
                     }
                     if (bookImage.parentNode) {
                          bookImage.style.filter = `drop-shadow(0px 0px ${glowIntensity}px ${color})`;
                     } else {
                          clearInterval(glowInterval);
                     }
                 }, 60);
            });
             topic.addEventListener("mouseleave", function () {
                 // ... (rest of mouseleave logic) ...
                 clearInterval(glowInterval);
                 if (bookImage.parentNode) {
                    bookImage.style.filter = "none";
                 }
            });
            // --- (End Hover Glow Effect) ---


            topicsContainer.appendChild(topic);

            // --- (Positioning logic remains the same) ---
            if (!isMobile) {
                 if (container.offsetParent !== null && bookImage.offsetParent !== null) {
                    // ... (existing positioning calculations) ...
                    const containerRect = container.getBoundingClientRect();
                    const bookRect = bookImage.getBoundingClientRect();
                    const bookCenterXVP = bookRect.left + bookRect.width / 2;
                    const containerLeftVP = containerRect.left;
                    const centerX = bookCenterXVP - containerLeftVP;
                    const bookCenterYVP = bookRect.top + bookRect.height / 2;
                    const containerTopVP = containerRect.top;
                    const centerY = bookCenterYVP - containerTopVP;
                    const radiusX = container.clientWidth * 0.50;
                    const radiusY = container.clientHeight * 0.50;
                    const angle = (i * (2 * Math.PI / numTopics)) - (Math.PI / 2);
                    const topicWidth = topic.offsetWidth || 180;
                    const topicHeight = topic.offsetHeight || 80;
                    const topicLeft = centerX + radiusX * Math.cos(angle) - (topicWidth / 2);
                    const topicTop = centerY + radiusY * Math.sin(angle) - (topicHeight / 2);

                    topic.style.position = "absolute";
                    topic.style.left = `${topicLeft}px`;
                    topic.style.top = `${topicTop}px`;
                 } else {
                     console.warn("Elements not ready for positioning calculation.");
                 }

            } else {
                topic.style.position = "";
                topic.style.left = "";
                topic.style.top = "";
            }
            // --- (End Positioning logic) ---
        }
         void topicsContainer.offsetWidth;
    }


    // --- Initialize layout on page load ---
    document.addEventListener('DOMContentLoaded', () => {
         // Check if #subjects is the initially active section
         // If so, initialize its layout. The check inside showSection handles clicks.
         const activeSection = document.querySelector('.section.active');
         if (activeSection && activeSection.id === 'subjects') {
             initializeSubjectLayout();
         }

        // Initial check for active section might need adjustment based on how 'active' is set
         if (!document.querySelector('.section.active')) {
            // If nothing is active (unlikely with previous code), show home
             // showSection('home');
         }
     });
    //script for loading video file
    function loadVideoSection() {
            fetch('mathphydisk.html') // Load the external videos page
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.text(); // Get content as text
                })
                .then(data => {
                    document.getElementById('videos').innerHTML = data; // Insert into videos section
                    showSection('videos'); // Show the videos section
                })
                .catch(error => {
                    console.error('Error loading videos:', error);
                    const videoSection = document.getElementById('videos');
                    if (videoSection) {
                        videoSection.innerHTML = '<p>Error loading video content. Please try again later.</p>'; // Show error message
                    }
                    showSection('videos'); // Still show the section, but with the error message
                 });
        }

     // Ensure correct section is shown on load
     document.addEventListener('DOMContentLoaded', () => {
         const activeSection = document.querySelector('.section.active');
         if (!activeSection) {
             showSection('home'); // Default to home if nothing is active
         }
         // If using back/forward, browser might restore scroll position,
         // but we generally want top on section change.
         // The scrollTo in showSection handles clicks.

     });


     //==============================================================================
     //the below code is for the Contact Us functionality
     const contactForm = document.getElementById('contact-form');
 const submitBtn = document.getElementById('submitBtn');
 const btnText = document.getElementById('btnText');
 const loader = document.getElementById('loader');
 const statusMessage = document.getElementById('statusMessage'); // Use the existing P tag

 if (contactForm && submitBtn && btnText && loader && statusMessage) {
    contactForm.addEventListener('submit', async function(e) {
        e.preventDefault(); // Prevent default form submission

        // Disable button and show loader
        submitBtn.disabled = true;
        btnText.textContent = 'Sending...';
        loader.classList.remove('hidden');
        statusMessage.textContent = ''; // Clear previous message
        statusMessage.className = 'status'; // Reset classes

        const formData = new FormData(this);
        const payload = {
            name: formData.get('name'),
            email: formData.get('email'),
            message: formData.get('message')
        };

        try {
            const response = await fetch('/.netlify/functions/sendEmail', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            const result = await response.json();

            if (response.ok) {
                statusMessage.textContent = "✅ Message sent successfully!";
                statusMessage.classList.add('success'); // Add class for green color
                contactForm.reset(); // Clear the form fields
            } else {
                // Try to get more specific error from backend if available
                const errorMsg = result.message || 'Failed to send message.';
                statusMessage.textContent = `❌ ${errorMsg}`;
                statusMessage.classList.add('error'); // Add class for red color
                console.error('Send email error:', result);
            }

        } catch (err) {
            statusMessage.textContent = '❌ Error sending message. Check connection or try again later.';
            statusMessage.classList.add('error');
            console.error('Network or fetch error:', err);
        } finally {
            // Re-enable button and hide loader regardless of outcome
            submitBtn.disabled = false;
            btnText.textContent = 'Send Message';
            loader.classList.add('hidden');
        }
    });
 } else {
     console.error("Contact form elements not found. Could not attach listener.");
     // Optionally display an error message somewhere if the form elements are missing
     if (statusMessage) {
        statusMessage.textContent = "Contact form failed to load correctly.";
        statusMessage.classList.add('error');
     }
 }
 // ==============================================================================
 // End of Contact Us script
 // ==============================================================================

    //==============================================================================
    // --- NEW: Read More Functionality Script (Adapted) ---
    // ==============================================================================
    function initializeReadMore() {
        // Select all "Read More" buttons within the blog section
        const readMoreButtons = document.querySelectorAll('.Blog .blog-card .read-more');

        readMoreButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Find the parent blog card
                const card = this.closest('.blog-card');
                if (!card) return; // Exit if structure is unexpected

                // Find the .more-content div within this specific card
                const moreContent = card.querySelector('.more-content');
                if (!moreContent) return; // Exit if not found

                // Toggle the .show class to expand/collapse
                moreContent.classList.toggle('show');

                // Change button text
                if (moreContent.classList.contains('show')) {
                    this.textContent = "Read Less";
                } else {
                    this.textContent = "Read More";
                }

                // Trigger pulse animation on the button
                this.classList.add("pulse");
                setTimeout(() => {
                    this.classList.remove("pulse");
                }, 400); // Match the animation duration in CSS
            });
        });
    }
  // ==============================================================================
    // --- End of Read More Script ---
    // ==============================================================================

    // --- DOMContentLoaded Listener (CORRECTED & COMPLETE) ---
    document.addEventListener('DOMContentLoaded', () => {
        let sectionToShowOnLoad = 'home'; // Default section ID

        // 1. Check the URL hash
        const urlHash = window.location.hash;
        if (urlHash) {
            const potentialId = urlHash.substring(1);
            if (document.getElementById(potentialId)) {
                sectionToShowOnLoad = potentialId;
                console.log(`URL hash detected. Initial section set to: ${sectionToShowOnLoad}`);
            } else {
                 console.warn(`URL hash '#${potentialId}' found, but no element with that ID exists. Defaulting to '${sectionToShowOnLoad}'.`);
            }
        } else {
             console.log(`No URL hash found. Defaulting to '${sectionToShowOnLoad}'.`);
        }

        // 2. Show the determined section
        // This function handles adding '.active' and calling initializeSubjectLayout if needed.
        showSection(sectionToShowOnLoad);

        // ****** 3. Initialize other dynamic components AFTER section is shown ******
        initializeReadMore(); // <--- Make sure this call is present
        initializeFAQ();      // <--- Make sure this call is present

        // Note: The Testimonial slider script is separate and self-initializes.
        // Contact form listener is attached outside this listener but needs elements to exist.
    });
    // --- End of DOMContentLoaded Listener ---

// --- NEW: FAQ Functionality Script ---
    // ==============================================================================
    function initializeFAQ() {
        // Select questions *only within the Contact section* to be safe
        const faqQuestions = document.querySelectorAll('#Contact .faq-question');

        faqQuestions.forEach(button => {
            button.addEventListener('click', () => {
                const answer = button.nextElementSibling; // The div right after the button
                const arrow = button.querySelector('.arrow'); // The arrow span inside the button

                // Check if the clicked item's answer is already open
                const isCurrentlyOpen = answer.classList.contains('open');

                // --- Close all other open answers FIRST ---
                document.querySelectorAll('#Contact .faq-answer.open').forEach(openAnswer => {
                    // If this open answer is NOT the one we just clicked
                    if (openAnswer !== answer) {
                        openAnswer.classList.remove('open');
                        // Also reset the arrow of the corresponding question
                        const correspondingQuestion = openAnswer.previousElementSibling;
                        if (correspondingQuestion && correspondingQuestion.classList.contains('faq-question')) {
                            correspondingQuestion.querySelector('.arrow').classList.remove('rotate');
                        }
                    }
                });
                // --- End closing others ---

                // Now, toggle the clicked item
                if (isCurrentlyOpen) {
                    // If it was open, close it
                    answer.classList.remove('open');
                    arrow.classList.remove('rotate');
                } else {
                    // If it was closed, open it
                    answer.classList.add('open');
                    arrow.classList.add('rotate');
                }
            });
        });
    }
    // ==============================================================================
    // --- End of FAQ Script ---
    // ==============================================================================


     


     
</script>



<footer>
    <div class="logo_outro">
      <img src="https://i.postimg.cc/qv2tkNrG/logobook-3.png" alt="KnowHaven Logo">
    </div>
    <div class="links">
        <a href="javascript:void(0);" onclick="showSection('about')">About Us</a>
        <a href="javascript:void(0);" onclick="showSection('Contact')">Contact Us</a>
        <a href="#">Help Center</a>
        <a href="javascript:void(0);" onclick="showSection('Contact')">FAQ Section</a>
        <a href="#">Blog Posts</a>
    </div>
    <div class="footer-bottom">
        
        <p>© 2025 KnowHaven. All rights reserved.</p>
        
        <div class="policies">
          
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Cookies Settings</a>
        </div>
    </div>
</footer>

</body>
</html>
    
